tilted-chsh的保真度

B_alpha = alpha*<A0> + <A0B0> + <A0B1> + <A1B0> - <A1B1>

maximun quantum violation: sqrt(8+2*alpha^2)
correspond quantum strategy:
reference state: psi_hat = costheta|00> + sintheta|11>
A0_hat = sigma_z
A1 = sigma_x
B0(new) = sigma_z
B1(new) = cos(2mu)sigma_z - sin(2mu)sigma_x
B2(new)

sin2theta = sqrt( (1-alpha^2/4)(1+alpha^2/4) )

alpha = 1 or 0.5 or 0(chsh)


保真度
F = 1/4 * (1 + d_A0B0 + cos(2*theta) * (d_A0 + d_B0))
    + sin(2*theta)/16  * (d_A1B2 - d_A1B0B2B0 - d_A0A1A0B2 + d_A0A1A0B0B2B0)
    + sin(2*theta)/16  * (d_A0A1B0B2 - d_A0A1B2B0 - d_A1A0B0B2 + d_A1A0B2B0)

alpha * d_A0 + d_A0B0 + d_A0B1 + d_A1B0 - d_A1B1 = 【tilted-CHSH】【旋转前】



------------  新增代码
test_b2_construction.py:
基于NPAHierarchy_3.py，让Bob输入为3个，也就是多了B2. 看看此时的gamma矩阵和ind_catalog。


locate_gamma_Bob.py:
基于locate_gamma_2.py，只查询Bob方的投影组合。


localizing_matrix.py:
构造用于tilted-chsh不等式求保真度的矩阵，主要是加了个B2.

robustness_tilted_chsh.py: 输入为alpha，求保真度【出错】保真度大于1
robustness_tilted_chsh2.py: 改为输入theta=pi/6, 并调试

【出错原因可能是B2没有约束，就比如tilted-chsh里面没有这个系数，导致求解器钻了空子】
NPAHierarchy_4.py 强制对角线小于1. 强制元素非负。

(2025.12.8)
NPAHierarchy_5.py 【还是用不上】
    加入k为字符串的判定，也就是k不再是3，而是1+aaa+bbb
    类似QETLAB内，如果k为字符串，会有个变量num_k_compon判断长度。后面会有代码辨认a和b的数量，且需要当前算符同时满足Alice和Bob的数量限制。


NPAHierarchy_Custom.py
    自定义基底。
注意出现了以下约束：
    # 3. 对角线约束
    constraints.append(cp.diag(G) <= 1)
    constraints.append(cp.diag(G) >= 0)
    # 4. 全局数值笼子
    constraints.append(G <= 1.0)
    constraints.append(G >= -1.0)

对应robustness_tilted_chsh_custom.py





